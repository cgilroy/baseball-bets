(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{168:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(18),r=a.n(i),o=(a(77),a(19)),l=(a(78),a(79),a(71)),c=a(39),d=a.n(c),m=a(26),p=a.n(m),h=a(69),u=a.n(h),g=a(40),y=a.n(g),f=a(68),w=a.n(f),v=a(70),x=a.n(v);a(80);var N=function(e,t,a){var n=1,s=0,i=e.records.wins+e.records.losses,r=t.records.wins+t.records.losses,o=[],l={pct:{displayName:"WIN %",value:parseFloat(e.records.totPct).toFixed(3)},runsForPG:{displayName:"RUNS / GAME",value:parseFloat(e.hitting.runs/i).toFixed(2)},runsAgainstPG:{displayName:"RUNS ALLOWED / GAME",value:-parseFloat(e.pitching.runs/i).toFixed(2)},hitsForPG:{displayName:"HITS / GAME",value:parseFloat(e.hitting.hits/i).toFixed(2)},hitsAgainstPG:{displayName:"HITS ALLOWED / GAME",value:-parseFloat(e.pitching.hits/i).toFixed(2)},avg:{displayName:"AVG",value:parseFloat(e.hitting.avg).toFixed(3)},obp:{displayName:"OBP",value:parseFloat(e.hitting.obp).toFixed(3)},slg:{displayName:"SLG",value:parseFloat(e.hitting.slg).toFixed(3)},ops:{displayName:"OPS",value:parseFloat(e.hitting.ops).toFixed(3)},homeRuns:{displayName:"HR",value:e.hitting.homeRuns},stolenBases:{displayName:"SB",value:e.hitting.stolenBases},era:{displayName:"ERA",value:-parseFloat(e.pitching.era).toFixed(2)},whip:{displayName:"WHIP",value:-parseFloat(e.pitching.whip).toFixed(2)},kPerNine:{displayName:"K/9",value:parseFloat(9*e.pitching.strikeOuts/e.pitching.inningsPitched).toFixed(2)},homeRunsAllowed:{displayName:"HR AGAINST",value:-e.pitching.homeRuns},fielding:{displayName:"FLD%",value:parseFloat(e.fielding.fielding).toFixed(3)},avgAgainst:{displayName:"BAA",value:-parseFloat(e.pitching.avg).toFixed(3)}},c={pct:{displayName:"WIN %",value:parseFloat(t.records.totPct).toFixed(3)},runsForPG:{displayName:"RUNS / GAME",value:parseFloat(t.hitting.runs/r).toFixed(2)},runsAgainstPG:{displayName:"RUNS ALLOWED / GAME",value:-parseFloat(t.pitching.runs/r).toFixed(2)},hitsForPG:{displayName:"HITS / GAME",value:parseFloat(t.hitting.hits/r).toFixed(2)},hitsAgainstPG:{displayName:"HITS ALLOWED / GAME",value:-parseFloat(t.pitching.hits/r).toFixed(2)},avg:{displayName:"AVG",value:parseFloat(t.hitting.avg).toFixed(3)},obp:{displayName:"OBP",value:parseFloat(t.hitting.obp).toFixed(3)},slg:{displayName:"SLG",value:parseFloat(t.hitting.slg).toFixed(3)},ops:{displayName:"OPS",value:parseFloat(t.hitting.ops).toFixed(3)},homeRuns:{displayName:"HR",value:t.hitting.homeRuns},stolenBases:{displayName:"SB",value:t.hitting.stolenBases},era:{displayName:"ERA",value:-parseFloat(t.pitching.era).toFixed(2)},whip:{displayName:"WHIP",value:-parseFloat(t.pitching.whip).toFixed(2)},kPerNine:{displayName:"K/9",value:parseFloat(9*t.pitching.strikeOuts/t.pitching.inningsPitched).toFixed(2)},homeRunsAllowed:{displayName:"HR AGAINST",value:-t.pitching.homeRuns},fielding:{displayName:"FLD%",value:parseFloat(t.fielding.fielding).toFixed(3)},avgAgainst:{displayName:"BAA",value:-parseFloat(t.pitching.avg).toFixed(3)}};for(var d in l)l[d].value>c[d].value?(n++,o.push({stat:{statName:l[d].displayName,home:Math.abs(l[d].value),away:Math.abs(c[d].value),winner:"home"}})):l[d].value<c[d].value&&(s++,o.push({stat:{statName:l[d].displayName,home:Math.abs(l[d].value),away:Math.abs(c[d].value),winner:"away"}}));return console.log([e,t],"pitcherstats"),void 0!==e.pitcherStats&&void 0!==t.pitcherStats&&(console.log("inthepitch"),e.pitcherStats.inningsPitched>24&&t.pitcherStats.inningsPitched>24&&(e.pitcherStats.era<t.pitcherStats.era?(n++,o.push({stat:{statName:"Starting Pitcher ERA",home:e.pitcherStats.era,away:t.pitcherStats.era,winner:"home"}})):e.pitcherStats.era>t.pitcherStats.era&&(s++,o.push({stat:{statName:"Starting Pitcher ERA",home:e.pitcherStats.era,away:t.pitcherStats.era,winner:"away"}})))),"day"===a?e.records.dayPct>t.records.dayPct?(n++,o.push({stat:{statName:"Day Win %",home:e.records.dayPct,away:t.records.dayPct,winner:"home"}})):e.records.dayPct<t.records.dayPct&&(s++,o.push({stat:{statName:"Day Win %",home:e.records.dayPct,away:t.records.dayPct,winner:"away"}})):e.records.nightPct>t.records.nightPct?(n++,o.push({stat:{statName:"Night Win %",home:e.records.nightPct,away:t.records.nightPct,winner:"home"}})):e.records.nightPct<t.records.nightPct&&(s++,o.push({stat:{statName:"Night Win %",home:e.records.nightPct,away:t.records.nightPct,winner:"away"}})),e.records.lastTen>t.records.lastTen?(n++,o.push({stat:{statName:"L10",home:e.records.lastTen,away:t.records.lastTen,winner:"home"}})):e.records.lastTen<t.records.lastTen&&(s++,o.push({stat:{statName:"L10",home:e.records.lastTen,away:t.records.lastTen,winner:"away"}})),e.records.home>t.records.away?(n++,o.push({stat:{statName:"HOME/AWAY",home:e.records.home,away:t.records.away,winner:"home"}})):e.records.home<t.records.away&&(s++,o.push({stat:{statName:"HOME/AWAY",home:e.records.home,away:t.records.away,winner:"away"}})),console.log(o,"scoreSummary"),console.log([n,s],"score"),n-s>12?{winner:"HOME",summary:o,score:{home:n,away:s}}:s-n>12?{winner:"AWAY",summary:o,score:{home:n,away:s}}:{winner:"",summary:o,score:{home:n,away:s}}},E=a(37),b=a.n(E),F=a(64),P=a.n(F);var A=function(e){var t=[];for(var a in e.data){var n=parseFloat(e.data[a].stat.home)+parseFloat(e.data[a].stat.away),i=(parseFloat(e.data[a].stat.home)/n*100).toFixed(0)+"%",r=(parseFloat(e.data[a].stat.away)/n*100).toFixed(0)+"%",o="home"===e.data[a].stat.winner?{backgroundColor:"#7081ff",width:i,height:"5px"}:{backgroundColor:"#ccc",width:i,height:"3px"},l="away"===e.data[a].stat.winner?{backgroundColor:"#7081ff",width:r,height:"5px"}:{backgroundColor:"#ccc",width:r,height:"3px"};t.push(s.a.createElement(b.a,{in:e.active},s.a.createElement("div",{style:{marginTop:"6px"}},s.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},s.a.createElement("span",{style:{width:"100%"}},e.data[a].stat.home),s.a.createElement("span",{style:{minWidth:"200px"}},e.data[a].stat.statName),s.a.createElement("span",{style:{width:"100%"}},e.data[a].stat.away)),s.a.createElement("div",{style:{display:"flex",alignItems:"center"}},s.a.createElement("div",{style:o}),s.a.createElement("div",{style:l})))))}return t=s.a.createElement("div",{style:{marginBottom:"15px"}},t),s.a.createElement(P.a,{in:e.active,style:{width:"100%",maxWidth:"600px"},unmountOnExit:!0},t)},S=a(38),R=a.n(S),T=a(66),I=a.n(T),O=a(67),W=a.n(O),D=Object(l.withStyles)({card:{width:"40%"},card__content:{display:"flex",alignItems:"center",justifyContent:"center"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},matchup:{display:"flex",marginBottom:10,justifyContent:"space-between",alignItems:"center"},card__winner:{width:"40%",border:"2px solid #00d064",boxSizing:"border-box"},gameInfo:{textAlign:"left"},dropDown:{display:"flex",justifyContent:"center",flexWrap:"wrap"},collapsed:{transition:"all .15s linear"},expanded:{transition:"all .15s linear",transform:"rotate(180deg)"},winCount:{}})(function(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),i=a[0],r=a[1];console.log(e,"props");var l=N(e.homeData,e.awayData,e.gameData.dayNight);console.log(l,"comparisonResult");var c=e.classes,m=s.a.createElement(d.a,{className:"HOME"===l.winner?c.card__winner:c.card},s.a.createElement(y.a,{className:c.card__content},"HOME"===l.winner&&s.a.createElement("img",{className:"checkmarkIcon",src:R.a,style:{marginRight:"8px"}}),s.a.createElement("img",{src:"https://www.mlbstatic.com/team-logos/".concat(e.homeData.id,".svg"),style:{height:"25px",paddingRight:"8px"}}),e.homeData.name)),h=s.a.createElement(d.a,{className:"AWAY"===l.winner?c.card__winner:c.card},s.a.createElement(y.a,{className:c.card__content},"AWAY"===l.winner&&s.a.createElement("img",{className:"checkmarkIcon",src:R.a,style:{marginRight:"8px"}}),s.a.createElement("img",{src:"https://www.mlbstatic.com/team-logos/".concat(e.awayData.id,".svg"),style:{height:"25px",paddingRight:"8px"}}),e.awayData.name));return s.a.createElement(p.a,{style:{padding:"15px 15px 0 15px",margin:"10px 0",cursor:"default"}},s.a.createElement("div",{className:c.gameInfo,style:{marginBottom:"10px"}},s.a.createElement("span",null,s.a.createElement(W.a,{format:"h:mm A"},e.gameData.gameDate)),s.a.createElement("span",{style:{paddingLeft:"15px"}},e.gameData.venue.name)),s.a.createElement("div",{className:c.matchup},m,s.a.createElement("div",{className:"win-count"},s.a.createElement("div",null,s.a.createElement("span",null,"WINS")),s.a.createElement("div",null,s.a.createElement("span",{style:{fontWeight:"bolder"}},l.score.home))),s.a.createElement(w.a,null,"VS"),s.a.createElement("div",{className:"win-count"},s.a.createElement("div",null,s.a.createElement("span",null,"WINS")),s.a.createElement("div",null,s.a.createElement("span",{style:{fontWeight:"bolder"}},l.score.away))),h),s.a.createElement("div",{className:c.dropDown},s.a.createElement(u.a,{style:{width:"100%",justifyContent:"center",paddingTop:"0"}},s.a.createElement(x.a,{className:i?c.expanded:c.collapsed,onClick:function(){r(!i)},"aria-expanded":i,"aria-label":"Show more"},s.a.createElement("img",{src:I.a,style:{height:"15px"}}))),s.a.createElement(A,{data:l.summary,active:i})))});var G=function(e){var t="https://statsapi.mlb.com/api/v1/schedule?date="+a(60)().format("L")+"&sportId=1&hydrate=probablePitcher(note)";console.log(t,"dateUrl");var n=[t,"https://statsapi.mlb.com/api/v1/teams/stats?season=2019&stats=season&group=pitching&sportIds=1","https://statsapi.mlb.com/api/v1/teams/stats?season=2019&stats=season&group=hitting&sportIds=1","https://statsapi.mlb.com/api/v1/teams/stats?season=2019&stats=season&group=fielding&sportIds=1"];Promise.all(n.map(function(e){return fetch(e).then(function(e){return e.json()}).then(function(e){return void 0!==e.stats?{dataType:e.stats[0].group.displayName,data:e.stats[0].splits}:void 0!==e.dates?{dataType:"schedule",data:e.dates[0]}:void 0})})).then(function(t){var a=t.find(function(e){return"schedule"===e.dataType}),n=[];a.data.games.map(function(e){e.teams.home.probablePitcher&&e.teams.away.probablePitcher&&n.push("https://statsapi.mlb.com/api/v1/people/".concat(e.teams.home.probablePitcher.id,"/stats?stats=byDateRange&season=2019&group=pitching"),"https://statsapi.mlb.com/api/v1/people/".concat(e.teams.away.probablePitcher.id,"/stats?stats=byDateRange&season=2019&group=pitching"))});var s=[];Promise.all(n.map(function(e){return fetch(e).then(function(e){return e.json().then(function(t){return{id:e.url.substring(e.url.lastIndexOf("people/")+7,e.url.lastIndexOf("/stats")),stats:t.stats[0].splits[0].stat}})}).then(function(e){return s.push(e)}).catch(function(e){return console.log(e)})})).then(function(){return t.push({dataType:"startingPitcherStats",data:s}),t}).then(function(t){fetch("https://statsapi.mlb.com/api/v1/standings?leagueId=103,104").then(function(e){return e.json()}).then(function(a){console.log(a,"output");var n=[];a.records.map(function(e){e.teamRecords.map(function(e){n.push({id:e.team.id,wins:e.leagueRecord.wins,losses:e.leagueRecord.losses,totPct:e.leagueRecord.pct,dayPct:e.records.splitRecords.find(function(e){return"day"===e.type}).pct,nightPct:e.records.splitRecords.find(function(e){return"night"===e.type}).pct,lastTen:e.records.splitRecords.find(function(e){return"lastTen"===e.type}).pct,home:e.records.splitRecords.find(function(e){return"home"===e.type}).pct,away:e.records.splitRecords.find(function(e){return"away"===e.type}).pct})})}),console.log(n,"splitRecords"),t.push({dataType:"records",data:n}),e(t)})})})};var k=function(){var e,t=Object(n.useState)(),a=Object(o.a)(t,2),i=a[0],r=a[1],l=Object(n.useState)(!0),c=Object(o.a)(l,2),d=c[0],m=c[1],p=function(e){console.log("here"),m(!1),r(e)};if(Object(n.useEffect)(function(){G(p)},[]),console.log(i,"allData"),void 0!==i){var h=i.find(function(e){return"schedule"===e.dataType}),u=i.find(function(e){return"pitching"===e.dataType}).data,g=i.find(function(e){return"hitting"===e.dataType}).data,y=i.find(function(e){return"fielding"===e.dataType}).data,f=i.find(function(e){return"startingPitcherStats"===e.dataType}).data,w=i.find(function(e){return"records"===e.dataType}).data;e=h.data.games.map(function(e){var t="",a="";e.teams.home.hasOwnProperty("probablePitcher")&&(t=void 0!==f.find(function(t){return t.id==e.teams.home.probablePitcher.id})?f.find(function(t){return t.id==e.teams.home.probablePitcher.id}).stats:""),e.teams.away.hasOwnProperty("probablePitcher")&&(a=void 0!==f.find(function(t){return t.id==e.teams.away.probablePitcher.id})?f.find(function(t){return t.id==e.teams.away.probablePitcher.id}).stats:"");var n={id:e.teams.home.team.id,name:e.teams.home.team.name,records:w.find(function(t){return t.id===e.teams.home.team.id}),pitching:u.find(function(t){return t.team.id===e.teams.home.team.id}).stat,hitting:g.find(function(t){return t.team.id===e.teams.home.team.id}).stat,fielding:y.find(function(t){return t.team.id===e.teams.home.team.id}).stat,pitcherStats:t},i={id:e.teams.away.team.id,name:e.teams.away.team.name,records:w.find(function(t){return t.id===e.teams.away.team.id}),pitching:u.find(function(t){return t.team.id===e.teams.away.team.id}).stat,hitting:g.find(function(t){return t.team.id===e.teams.away.team.id}).stat,fielding:y.find(function(t){return t.team.id===e.teams.away.team.id}).stat,pitcherStats:a};return s.a.createElement(D,{gameData:e,homeData:n,awayData:i})})}return s.a.createElement("div",{className:"App",style:{backgroundColor:"#f0f0f0",minHeight:"100vh",display:"flex",flexFlow:"column"}},s.a.createElement("header",{className:"App-header"},s.a.createElement("h1",null,"baseball-bets")),s.a.createElement("div",{style:{display:"flex",flex:"1 1 auto",flexFlow:"column",padding:"15px",maxWidth:"900px",width:"100%",margin:"0 auto",justifyContent:"center"}},d?s.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},s.a.createElement("div",{class:"lds-ripple"},s.a.createElement("div",null),s.a.createElement("div",null))):e))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},38:function(e,t,a){e.exports=a.p+"static/media/checkmark.5f5fc624.svg"},66:function(e,t,a){e.exports=a.p+"static/media/expand-more.00a298a5.svg"},72:function(e,t,a){e.exports=a(168)},77:function(e,t,a){},78:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},79:function(e,t,a){}},[[72,1,2]]]);
//# sourceMappingURL=main.29d49e8b.chunk.js.map